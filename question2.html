<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question2</title>
    <style>
        fieldset {
            width: 50%;
        }
        .button {
            margin-top: 20px;
            text-align: right;
        }
    </style>
</head>
<body>
    <div style="display: flex; justify-content: space-between;">
        <a href="question1.html">question1</a>
        <a href="question2.html">question2</a>
        <a href="question3.html">question3</a>
    </div>
    <h1>Question 2</h1>

    <p>Question 2.1</p>

    <form action="">
        <fieldset>
            <legend>Update Date</legend>
            <label for="date">When was this website updated? :</label>
            <input type="date" name="date" id="date">
            <div class="button" >
                <input type="button" id="getDate" value="Send Update Date">
            </div>
        </fieldset>
    </form>

    <p>Question 2.2</p>
    <div id="q2"></div>

    <script>

        let field = document.querySelector('#date');

        // Handle date changes
        date.addEventListener('input', function () {
            // Get the date
            let newDate = new Date(field.value);
            const updateBtn = document.querySelector('#getDate');

            //a simple date formatting function
            function dateFormat(inputDate, format) {
                //parse the input date
                const date = new Date(inputDate);

                //extract the parts of the date
                const day = date.getDate();
                const month = date.getMonth() + 1;
                const year = date.getFullYear();    

                //replace the month
                format = format.replace("MM", month.toString().padStart(2,"0"));        

                //replace the year
                if (format.indexOf("yyyy") > -1) {
                    format = format.replace("yyyy", year.toString());
                }
                if (format.indexOf("yy") > -1) {
                    format = format.replace("yy", year.toString().substr(2,2));
                }

                //replace the day
                format = format.replace("dd", day.toString().padStart(2,"0"));

                return format;
            }

            
            updateBtn.addEventListener("click", function(){
                alert("This page was last last updated: "+ dateFormat(newDate, 'dd/MM/yy'));
            })
        });

    // question 2.2

        let str = 'i love javascript programming with all my heart';
        let result = str.toUpperCase();
        let div = document.getElementById("q2");

        for(let i=1; i<=5; i++) {
            p = document.createElement('p');
            p.innerHTML = result;
            div.appendChild(p);
        }

    </script>
</body>
</html>