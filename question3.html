<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question3</title>
    <style>
        .form-container{
            max-width: 600px;
            padding: 20px 12px 10px 20px;
            font: 13px Arial, Helvetica, sans-serif;
        }
        .form-container-heading{
            font-weight: bold;
            border-bottom: 2px solid #ddd;
            margin-bottom: 20px;
            padding-bottom: 3px;
        }
        .form-box {
            border: 1px solid black;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            text-align: center;
            padding-bottom: 10px;
        }
        
        .form-container label{
            display: block;
            margin: 0px 0px 15px 0px;
        }
        .form-container label > span{
            width: 100px;
            font-weight: bold;
            float: left;
            padding-top: 8px;
            padding-right: 5px;
        }
        .form-container span.required{
            color:red;
        }
        .form-container .tel-number-field{
            width: 40px;
            text-align: center;
        }
        .form-container input.input-field, .form-container .select-field{
            width: 48%;	
        }
        .form-container input.input-field, 
        .form-container .tel-number-field, 
        .form-container .textarea-field, 
        .form-container .select-field{
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            border: 1px solid #C2C2C2;
            box-shadow: 1px 1px 4px #EBEBEB;
            -moz-box-shadow: 1px 1px 4px #EBEBEB;
            -webkit-box-shadow: 1px 1px 4px #EBEBEB;
            border-radius: 3px;
            -webkit-border-radius: 3px;
            -moz-border-radius: 3px;
            padding: 7px;
            outline: none;
        }
        .form-container .input-field:focus,   
        .form-container .select-field:focus{
            border: 1px solid #0C0;
        }
        
        .form-container input[type=submit],
        .form-container input[type=button]{
            border: none;
            padding: 8px 15px 8px 15px;
            background: #FF8500;
            color: #fff;
            box-shadow: 1px 1px 4px #DADADA;
            -moz-box-shadow: 1px 1px 4px #DADADA;
            -webkit-box-shadow: 1px 1px 4px #DADADA;
            border-radius: 3px;
            -webkit-border-radius: 3px;
            -moz-border-radius: 3px;
        }
        .form-container input[type=submit]:hover,
        .form-container input[type=button]:hover{
            background: #EA7B00;
            color: #fff;
        }
</style>
    
</head>
<body>
    <div style="display: flex; justify-content: space-between;">
        <a href="question1.html">question1</a>
        <a href="question2.html">question2</a>
        <a href="question3.html">question3</a>
    </div>

    <div class="form-container">
        <h1 class="form-container-heading">Welcome To Pretoria Sunnyside Bowling Club</h1>

    <div class="form-box">
        <h1>Signup Form</h1>
        <div class="logo-div">
            <img class="logo" src="./imgs/q3.jfif" alt="">
        </div>
        
        <form action="" method="post" id="form">
            <div>
                <label for="firstname"><span>First Name<span class="required">*</span></span>
                <input type="text" name="firstname" class="input-field" id="" placeholder="First Name" maxlength="30"></label>
            </div>
           
            <div>
                <label for="lastname"><span>Last Name<span class="required">*</span></span>
                <input type="text" name="lastname" class="input-field" id="" placeholder="Last Name" maxlength="30"></label>
            </div>
            <div>
                <label for="address"><span>Address<span class="required">*</span></span>
                <input type="text" name="address" class="input-field" id="" placeholder="Address" maxlength="30"></label>
            </div>
            <div>
                <label for="gender"><span>Gender<span class="required">*</span></span>
                <input type="radio" name="gender" id="male">Male
                <input type="radio" name="gender" id="female">Female </label>
            </div>
            <div>
                <label for="email"><span>Email Id<span class="required">*</span></span>
                <input type="email" name="email" class="input-field" id="" placeholder="example@gmail.com"
                pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$"></label>
            </div>
            <div>
                <label for="phone"><span>Mobile<span class="required">*</span></span>
                <input type="tel" name="phone" class="input-field" id="" pattern="/^\d{9,15}$/" maxlength="10"></label>
            </div>
            <div>
                <label for="location"><span>Location<span class="required">*</span></span>
                <select name="location" class="select-field" id="location">
                    <option value="">Select</option>
                    <option value="boardwalk">Boardwalk</option>
                    <option value="brooklyn">Brooklyn</option>
                    <option value="lynnwood">Lynnwood</option>
                    <option value="sunnyside">Sunnyside</option>
                </select></label>
                
            </div>
            <div class="buttons">
                <input type="submit" id="signup" onclick="cookieFunction()" value="signup">
                <input type="button" id="reset" value="Reset">
            </div>
            
        </form>
    </div>
    </div>
    
    <script>
        const signupBtn = document.getElementById('signup');
        const restBtn = document.getElementById('reset');

        var form = document.getElementById('form');
        var male = document.getElementById('male');
        var female = document.getElementById('female');
        var name = form.elements.firstname.value;
        var nameregex= name.search(/[a-zA-Z]/g);
        var lastname = form.elements.lastname.value;
        var address = form.elements.address.value;
        var email = form.elements.email.value;
        var phone = form.elements.phone.value;
        var phoneregex= /^[(]{0,1}[0-9]{3}[)]{0,1}[-\s\.]{0,1}[0-9]{3}[-\s\.]{0,1}[0-9]{4}$/;
        var location = document.getElementById('location');

        var today= new Date();
        var expiry = new Date(today.getTime() + 30 * 24 * 3600 * 1000)

        signupBtn.addEventListener('click', (event) => {
            if (name.length < 1 || name === undefined || email < 1
                || email === undefined || email !== email.toLowerCase()
                || lastname.length < 5 || lastname === undefined || phone === undefined) {
                    event.preventDefault();
                    alert('* Fields are required');
                    return false;
            }else if (nameregex == -1 || name === "") {
                event.preventDefault();
                    alert('* Name is required');
                    return false;
            }else if (phoneregex == -1 || phone === "") {
                event.preventDefault();
                    alert('* Phone is required');
                    return false;
            }else if (!document.getElementById('male').Checked && !document.getElementById('female').Checked) {
                    event.preventDefault();
                    alert('* Gender is required');
                    return false;
                }else if (document.getElementById('location').value == "") {
                    event.preventDefault();
                    alert('* Location is required');
                    return false;
                }else {
                    Alert("Success")
                }
        });

        restBtn.addEventListener('click', () => {
            name = "";
            lastname = "";
            address.value = "";
            email.value = "";
            phone.value = "";
            male.Checked = false;
            female.Checked = false;
            location.value= "";
        })

        //q3.2
        signupBtn.addEventListener('click', () => {
            try {
                if(name.length < 1 || name === undefined || email < 1
                || email === undefined || email !== email.toLowerCase()
                || lastname.length < 5 || lastname === undefined || phone === undefined) {
                    throw "* Make sure you fill all the input fields. form not sent.";
                }
            }
            catch(err) {
                alert("Error: " + err + ".");
            }
            finally {
                name.value = "";
                lastname.value = "";
                address.value = "";
                email.value = "";
                phone.value = "";
                male.Checked = false;
                female.Checked = false;
                location.value= "";
            }
        })
        
        // q3.3
        function cookieFunction() {
            
        }
    </script>
</body>
</html>